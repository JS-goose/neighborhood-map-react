(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{115:function(e,n,t){e.exports=t.p+"static/media/FoursquareSocial.dec86181.png"},119:function(e,n){},121:function(e,n){},156:function(e,n){},157:function(e,n){},203:function(e,n,t){"use strict";t.r(n);var a=t(2),o=t.n(a),i=t(86),r=t.n(i),s=(t(93),t(12)),c=t(13),u=t(15),l=t(14),m=t(16),p=(t(95),function(){return o.a.createElement("div",{role:"application",id:"map",className:"map"})}),d=t(87),f=t.n(d),h=function(e){function n(){return Object(s.a)(this,n),Object(u.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("li",{tabIndex:"0",className:"venueItem",onClick:function(){return e.props.handleVenueClick(e.props)}},o.a.createElement("img",{src:this.props.venue.venue.categories[0].icon.prefix+"32"+this.props.venue.venue.categories[0].icon.suffix,alt:this.props.venue.venue.categories[0].name}),this.props.venue.venue.name)}}]),n}(a.Component),v=function(e){var n=e.venues,t=e.handleVenueClick,a=e.infowindow,i=e.content;e.ven;return o.a.createElement("ol",{id:"venueList"},n&&n.map(function(e,n){return o.a.createElement(h,{key:n,venue:e,handleVenueClick:t,infowindow:a,content:i})}))},g=function(e){function n(){var e;return Object(s.a)(this,n),(e=Object(u.a)(this,Object(l.a)(n).call(this))).filterVenueListings=function(){return""!==e.state.query.trim?e.props.venues.filter(function(n){return n.venue.name.toLowerCase().includes(e.state.query.toLowerCase())}):e.props.venues},e.handleInputChange=function(n){e.setState({query:n.target.value});var t=e.props.venues.map(function(t){var a=t.venue.name.toLowerCase().includes(n.target.value.toLowerCase()),o=e.props.markers.find(function(e){return e.id===t.venue.id});return a?o.setVisible(!0):o.setVisible(!1),o});e.props.updateSuperState({markers:t})},e.state={query:""},e}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return o.a.createElement("aside",{id:"sidebarContainer"},o.a.createElement("h1",{id:"sidebarHeader"},"Powered by",o.a.createElement("a",{href:"https://www.foursquare.com",target:"blank"},o.a.createElement("img",{id:"fourLogo",src:t(115),alt:"the foursquare logo"}))),o.a.createElement("label",{htmlFor:"filter"},"Search Venue Listings"),o.a.createElement("input",{id:"filter",type:"search",placeholder:"ex. Six Flags",onChange:this.handleInputChange}),o.a.createElement(v,Object.assign({},this.props,{handleVenueClick:this.props.handleVenueClick,venues:this.filterVenueListings()})))}}]),n}(a.Component),w=(t(116),function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(o)))).handleButtonClick=function(){var e=document.getElementById("sidebarContainer"),n=document.getElementById("map");"hidden"!==e.className?(e.className="hidden",n.className="wideMap"):(e.className=null,n.className="map")},t}return Object(m.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){return o.a.createElement("nav",{id:"nav"},o.a.createElement("div",{id:"navbar"},o.a.createElement("button",{id:"menu",onClick:this.handleButtonClick},"Menu")),o.a.createElement("h1",{id:"navbarHeader"},"San Antonio Parks"))}}]),n}(a.Component));var y=function(e){function n(){var e,t;Object(s.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(o)))).state={venues:[],markers:[],updateSuperState:function(e){t.setState(e)}},t.loadMap=function(){!function(e){var n=window.document.getElementsByTagName("script")[0],t=window.document.createElement("script");t.src=e,t.async=!0,t.defer=!0,n.parentNode.insertBefore(t,n)}("https://maps.googleapis.com/maps/api/js?key=AIzaSyCeg7QO_VyQ3FWMQexN8WPLJvGSDXOynuc&callback=initMap"),window.initMap=t.initMap},t.handleVenueClick=function(e){var n=t.state.markers,a='\n      <div class="infowindow">\n      <h1 class = "infoHeader">\n        '.concat(e.venue.venue.name,"\n      </h1>\n      <p>\n        ").concat(e.venue.venue.location.formattedAddress[0],"\n      </p>\n      <p>\n        ").concat(e.venue.venue.location.formattedAddress[1],"\n      </p>\n      <p>\n        <a href='https://foursquare.com/v/").concat(e.venue.venue.id,'\' target="blank">More Info</a>\n        </p>\n      </div>');n.filter(function(n){n.id===e.venue.venue.id?(t.state.infowindow.setContent(a),t.state.infowindow.open(t.initMap,n),n.setAnimation(window.google.maps.Animation.BOUNCE)):n.setAnimation(null)})},t.initMap=function(){var e=new window.google.maps.InfoWindow;t.setState({infowindow:e});var n=new window.google.maps.Map(document.getElementById("map"),{center:{lat:29.424122,lng:-98.493628},zoom:11,styles:[{elementType:"geometry",stylers:[{hue:"#ff4400"},{saturation:-68},{lightness:-4},{gamma:.72}]},{featureType:"road",elementType:"labels.icon"},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{hue:"#0077ff"},{gamma:3.1}]},{featureType:"water",stylers:[{hue:"#00ccff"},{gamma:.44},{saturation:-33}]},{featureType:"poi.park",stylers:[{hue:"#44ff00"},{saturation:-23}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{hue:"#007fff"},{gamma:.77},{saturation:65},{lightness:99}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{gamma:.11},{weight:5.6},{saturation:99},{hue:"#0091ff"},{lightness:-86}]},{featureType:"transit.line",elementType:"geometry",stylers:[{lightness:-48},{hue:"#ff5e00"},{gamma:1.2},{saturation:-23}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{saturation:-64},{hue:"#ff9100"},{lightness:16},{gamma:.47},{weight:2.7}]}]});t.state.venues.map(function(e){var a={lat:e.venue.location.lat,lng:e.venue.location.lng},o=e.venue.name,i=new window.google.maps.Marker({map:n,position:a,title:o,animation:window.google.maps.Animation.DROP,id:e.venue.id,icon:"http://maps.google.com/mapfiles/ms/icons/blue-dot.png"});t.setState(function(){return t.state.markers.push(i)});var r='\n        <div class="infowindow">\n        <h1 class = "infoHeader">\n          '.concat(e.venue.name,"\n        </h1>\n        <p>\n          ").concat(e.venue.location.formattedAddress[0],"\n        </p>\n        <p>\n          ").concat(e.venue.location.formattedAddress[1],'\n        </p>\n        <p>\n        <a href="https://foursquare.com/v/').concat(e.venue.id,'" target="blank">More Info</a>\n        </p>\n        </div>');i.addListener("click",function(){t.setState({content:r}),t.state.infowindow.setContent(t.state.content),t.state.infowindow.open(n,i),i.title===e.venue.name&&i.setAnimation(window.google.maps.Animation.BOUNCE),window.setTimeout(function(){i.setAnimation(null)},3e3)})})},t.getVenues=function(){f.a.get("https://api.foursquare.com/v2/venues/explore?"+new URLSearchParams({client_id:"SHKPWDT0OVUNMDM400IYZ45CV0CWBKIPDHLD3QMTLYFMMNH4",client_secret:"ZOT1OGISO2HZG0WVP4B5N50XR04SDA3Y2Y4GMLAKEA0LGLVY",query:"parks",section:"",near:"San Antonio",v:"20181008"})).then(function(e){t.setState({venues:e.data.response.groups[0].items},t.loadMap())}).catch(function(e){console.log("Error in Axios get: ".concat(e)),alert("There has been an error loading venue data. Please check the console for more information.")})},t}return Object(m.a)(n,e),Object(c.a)(n,[{key:"componentDidMount",value:function(){this.getVenues(),window.gm_authFailure=function(){return alert("Google Maps has encountered an error. Please check the console for more information")}}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(w,null),o.a.createElement("main",{id:"main"},o.a.createElement(g,Object.assign({},this.state,{handleVenueClick:this.handleVenueClick})),o.a.createElement(p,this.state)))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},88:function(e,n,t){e.exports=t(203)},93:function(e,n,t){},95:function(e,n,t){}},[[88,2,1]]]);
//# sourceMappingURL=main.ef3ff287.chunk.js.map